"use strict";/**
 * KK Cabinets
 * @copyright 2020 Luke Zhang, Ethan Lim
 * @author luke zhang, Ethan Lim
 *
 * https://luke-zhang-04.github.io
 * https://github.com/ethanlim04
 *
 * @license
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */var loader=document.getElementById("loader"),loading=loader===null||loader===void 0?void 0:loader.querySelector("h1");if(loader&&loading){setInterval(function(){if(loader.classList.contains("active")){if(loading.innerText.length>=13){loading.innerText="Sending"}else{loading.innerText="".concat(loading.innerText," .")}}},250)}var verifyMathProblem=function(problem,answer){return eval(problem)===Number(answer)};(function(form){if(form){form.addEventListener("submit",function(event){event.preventDefault();var name=document.getElementById("contact-name").value,email=document.getElementById("contact-email").value,comments=document.getElementById("contact-comments").value,problem=document.getElementById("contact-problem").innerHTML.replace(/<span>/g,"").replace(/<\/span>/g,""),answer=document.getElementById("contact-answer").value;if(!localStorage.getItem("lastEmailSent")){localStorage.setItem("lastEmailSent","0")}var lastEmailSent=Number(localStorage.getItem("lastEmailSent"));if(!name&&!email&&!comments&&!answer){alert("Please fill out all fields");return}else if(Date.now()-lastEmailSent<=60000){alert("Please wait before sending another email");return}else if(!verifyMathProblem(problem,answer)){alert("Incorrect answer to math problem");generateMathProblem();return}loader===null||loader===void 0?void 0:loader.classList.add("active");var sendEmail=functions.httpsCallable("contactFormSubmit"),sentEmail=sendEmail({name:name,email:email,desc:comments,problem:problem,answer:answer});Promise.resolve(sentEmail).then(function(msg){loader===null||loader===void 0?void 0:loader.classList.remove("active");alert(msg.data.msg);if(msg.data.err){generateMathProblem()}else{localStorage.setItem("lastEmailSent",Date.now().toString())}})})}})(document.getElementById("contact-form"));var generateMathProblem=function(){var contactProblem=document.getElementById("contact-problem");if(contactProblem){var numbers=[Math.floor(Math.random()*11),Math.floor(Math.random()*11),Math.floor(Math.random()*11)];contactProblem.innerHTML="<span>".concat(numbers[0],"</span>+<span>").concat(numbers[1],"</span>-<span>").concat(numbers[2],"</span>")}};generateMathProblem();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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