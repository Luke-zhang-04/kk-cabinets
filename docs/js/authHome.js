"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}var toggleSwitch;function logout(){firebase.auth().signOut()}firebase.auth().onAuthStateChanged(function(user){toggleSwitch=document.getElementById("navbarLogin");if(user){toggleSwitch.innerHTML="Logout";toggleSwitch.addEventListener("click",logout);toggleSwitch.setAttribute("href","#");document.getElementById("navbarRecommend").style.display="block";var login;firebase.database().ref("logged-in/").once("value").then(function(snapshot){login=snapshot.val()}).then(function(){if(!login){login=new Map}login[user.uid]=Date.now();firebase.database().ref("logged-in").set(_objectSpread({},login))})}else{toggleSwitch.innerHTML="Login/Register";toggleSwitch.removeEventListener("click",logout);toggleSwitch.setAttribute("href","login");document.getElementById("navbarRecommend").style.display="none"}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2pzL2F1dGhIb21lLmpzIl0sIm5hbWVzIjpbInRvZ2dsZVN3aXRjaCIsImxvZ291dCIsImZpcmViYXNlIiwiYXV0aCIsInNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJ1c2VyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImRpc3BsYXkiLCJsb2dpbiIsImRhdGFiYXNlIiwicmVmIiwib25jZSIsInRoZW4iLCJzbmFwc2hvdCIsInZhbCIsIk1hcCIsInVpZCIsIkRhdGUiLCJub3ciLCJzZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiMjhCQXFCQSxHQUFJQSxDQUFBQSxZQUFKLENBRUEsUUFBU0MsQ0FBQUEsTUFBVCxFQUFrQixDQUNkQyxRQUFRLENBQUNDLElBQVQsR0FBZ0JDLE9BQWhCLEVBRUgsQ0FFREYsUUFBUSxDQUFDQyxJQUFULEdBQWdCRSxrQkFBaEIsQ0FBbUMsU0FBU0MsSUFBVCxDQUFlLENBQzlDTixZQUFZLENBQUdPLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixhQUF4QixDQUFmLENBQ0EsR0FBSUYsSUFBSixDQUFVLENBRU5OLFlBQVksQ0FBQ1MsU0FBYixDQUF5QixRQUF6QixDQUNBVCxZQUFZLENBQUNVLGdCQUFiLENBQThCLE9BQTlCLENBQXVDVCxNQUF2QyxFQUNBRCxZQUFZLENBQUNXLFlBQWIsQ0FBMEIsTUFBMUIsQ0FBa0MsR0FBbEMsRUFFQUosUUFBUSxDQUFDQyxjQUFULENBQXdCLGlCQUF4QixFQUEyQ0ksS0FBM0MsQ0FBaURDLE9BQWpELENBQTJELE9BQTNELENBSUEsR0FBSUMsQ0FBQUEsS0FBSixDQUNBWixRQUFRLENBQUNhLFFBQVQsR0FBb0JDLEdBQXBCLENBQXdCLFlBQXhCLEVBQXNDQyxJQUF0QyxDQUEyQyxPQUEzQyxFQUFvREMsSUFBcEQsQ0FBeUQsU0FBU0MsUUFBVCxDQUFtQixDQUN4RUwsS0FBSyxDQUFHSyxRQUFRLENBQUNDLEdBQVQsRUFDWCxDQUZELEVBRUdGLElBRkgsQ0FFUSxVQUFLLENBQ1QsR0FBSSxDQUFDSixLQUFMLENBQVksQ0FDUkEsS0FBSyxDQUFHLEdBQUlPLENBQUFBLEdBQ2YsQ0FDRFAsS0FBSyxDQUFDUixJQUFJLENBQUNnQixHQUFOLENBQUwsQ0FBa0JDLElBQUksQ0FBQ0MsR0FBTCxFQUFsQixDQUNBdEIsUUFBUSxDQUFDYSxRQUFULEdBQW9CQyxHQUFwQixDQUF3QixXQUF4QixFQUFxQ1MsR0FBckMsa0JBQ09YLEtBRFAsRUFHSCxDQVZELENBWUgsQ0F2QkQsSUF1Qk8sQ0FFSGQsWUFBWSxDQUFDUyxTQUFiLENBQXlCLGdCQUF6QixDQUNBVCxZQUFZLENBQUMwQixtQkFBYixDQUFpQyxPQUFqQyxDQUEwQ3pCLE1BQTFDLEVBQ0FELFlBQVksQ0FBQ1csWUFBYixDQUEwQixNQUExQixDQUFrQyxPQUFsQyxFQUVBSixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsaUJBQXhCLEVBQTJDSSxLQUEzQyxDQUFpREMsT0FBakQsQ0FBMkQsTUFDOUQsQ0FDSixDQWpDRCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5cdEtLIENhYmluZXRzXG4gICAgQ29weXJpZ2h0IChDKSAyMDIwICBMdWtlIFpoYW5nLCBFdGhhbiBMaW1cbiAgICBcbiAgICBodHRwczovL2x1a2UtemhhbmctMDQuZ2l0aHViLmlvXG4gICAgaHR0cHM6Ly9naXRodWIuY29tL2V0aGFubGltMDRcblxuICAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmxldCB0b2dnbGVTd2l0Y2hcblxuZnVuY3Rpb24gbG9nb3V0KCkge1xuICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KClcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Vzc2Z1bGx5IExvZ2dlZCBPdXRcIilcbn1cblxuZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbih1c2VyKSB7XG4gICAgdG9nZ2xlU3dpdGNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZiYXJMb2dpblwiKVxuICAgIGlmICh1c2VyKSB7XG5cbiAgICAgICAgdG9nZ2xlU3dpdGNoLmlubmVySFRNTCA9IFwiTG9nb3V0XCJcbiAgICAgICAgdG9nZ2xlU3dpdGNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dvdXQpXG4gICAgICAgIHRvZ2dsZVN3aXRjaC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiI1wiKVxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2YmFyUmVjb21tZW5kXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcblxuICAgICAgICBjb25zb2xlLmxvZyh1c2VyLCB1c2VyLnByb3ZpZGVyRGF0YSlcblxuICAgICAgICBsZXQgbG9naW5cbiAgICAgICAgZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoXCJsb2dnZWQtaW4vXCIpLm9uY2UoXCJ2YWx1ZVwiKS50aGVuKGZ1bmN0aW9uKHNuYXBzaG90KSB7XG4gICAgICAgICAgICBsb2dpbiA9IHNuYXBzaG90LnZhbCgpXG4gICAgICAgIH0pLnRoZW4oXyA9PiB7XG4gICAgICAgICAgICBpZiAoIWxvZ2luKSB7XG4gICAgICAgICAgICAgICAgbG9naW4gPSBuZXcgTWFwKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2luW3VzZXIudWlkXSA9IERhdGUubm93KClcbiAgICAgICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKFwibG9nZ2VkLWluXCIpLnNldCh7IC8vcHVzaCB0byBkYXRhYmFzZVxuICAgICAgICAgICAgICAgIC4uLmxvZ2luXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJObyB1c2VyIHNpZ25lZCBpblwiKVxuICAgICAgICB0b2dnbGVTd2l0Y2guaW5uZXJIVE1MID0gXCJMb2dpbi9SZWdpc3RlclwiXG4gICAgICAgIHRvZ2dsZVN3aXRjaC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbG9nb3V0KVxuICAgICAgICB0b2dnbGVTd2l0Y2guc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcImxvZ2luXCIpXG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZiYXJSZWNvbW1lbmRcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgfVxufSkiXX0=